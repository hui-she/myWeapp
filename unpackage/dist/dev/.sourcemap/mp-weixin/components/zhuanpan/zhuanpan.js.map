{"version":3,"sources":["webpack:///E:/code/me/myWeapp/components/zhuanpan/zhuanpan.vue?258c","webpack:///E:/code/me/myWeapp/components/zhuanpan/zhuanpan.vue?d388","webpack:///E:/code/me/myWeapp/components/zhuanpan/zhuanpan.vue?6314","webpack:///E:/code/me/myWeapp/components/zhuanpan/zhuanpan.vue?36f1","uni-app:///components/zhuanpan/zhuanpan.vue","webpack:///E:/code/me/myWeapp/components/zhuanpan/zhuanpan.vue?8201","webpack:///E:/code/me/myWeapp/components/zhuanpan/zhuanpan.vue?df78"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiI;AACjI;AAC4D;AACL;AACsC;;;AAG7F;AACgL;AAChL,gBAAgB,uLAAU;AAC1B,EAAE,8EAAM;AACR,EAAE,+FAAM;AACR,EAAE,wGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAsqB,CAAgB,oqBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuC1rB;AACA;AACA;AACA;;AAEA,gC;;AAEA;AACA,kBADA;AAEA,MAFA,kBAEA;AACA;AACA,uBADA,EACA;AACA,qBAFA,EAEA;AACA,oBAHA,EAGA;AACA,oBAJA,EAIA;AACA,qBALA,EAKA;AACA,oBANA;AAOA,oBAPA;AAQA,oBARA;;AAUA,GAbA;AAcA;AACA;AACA,kBADA;AAEA,iBAFA,EADA;;AAKA;AACA,mBADA,EACA;AACA,oBAFA,EALA;;;AAUA;AACA,mBADA,EACA;AACA,mBAFA,EAVA;;;AAeA;AACA,mBADA,EACA;AACA,kBAFA,EAfA;;;AAoBA;AACA,mBADA,EACA;AACA,oBAFA,EApBA;;;AAyBA;AACA,kBADA,EACA;AACA;AACA;AACA,gBADA,EACA;AACA,gBAFA;;AAIA,OAPA,EAzBA;;;AAmCA;AACA,iBADA;AAEA;AACA;AACA;AACA,eADA;AAEA,2BAFA;AAGA;AACA;AACA,iBADA;AAEA,2BAFA,EAEA;AACA,wBAHA,EAGA;AACA,0BAJA,CAIA;AAJA,WADA;AAOA;AACA,iBADA;AAEA,4BAFA,EAEA;AACA,0BAHA;AAIA,0BAJA,EAPA,CAHA,EADA;;;;;AAoBA,OAvBA,EAnCA;;;AA6DA;AACA;AACA,kBADA;AAEA;AACA;AACA,0BADA;AAEA;AACA;AACA,iBADA;AAEA,2BAFA;AAGA,wBAHA;AAIA,0BAJA,EADA;;AAOA;AACA,iBADA;AAEA,4BAFA;AAGA,0BAHA;AAIA,0BAJA,EAPA,CAFA;;;;AAiBA,OApBA,EA9DA,EAdA;;;AAmGA,cAnGA;;;AAsGA,SAtGA,qBAsGA;AACA,uFADA,CACA;AACA,mFAFA,CAEA;AACA,qFAHA,CAGA;;AAEA;AACA;AACA;AACA,GA9GA;AA+GA;AACA;;;AAGA;AACA,UALA,kBAKA,GALA,EAKA;AACA;AACA;AACA,OAFA,MAEA;AACA;AACA;AACA,KAXA;;AAaA;AACA,cAdA,sBAcA,IAdA,EAcA;AACA;AACA;AACA,yCAHA,CAGA;AACA;AACA;AACA;AACA,qEADA,CACA;AACA;AACA;;AAEA,uBAXA,CAWA;AACA;;AAEA;;AAEA,qBAhBA,CAgBA;AACA,KA/BA;;AAiCA;AACA,SAlCA,mBAkCA;AACA;AACA;AACA;AACA,mBADA;AAEA,gCAFA;;AAIA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,OARA,EAQA,GARA;AASA,KA5DA;;AA8DA;AACA;AACA;AACA;AACA,kBAlEA,0BAkEA,IAlEA,EAkEA,IAlEA,EAkEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAlFA;;;;AAsFA;;;;;;AAMA;AACA,UA7FA,oBA6FA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA,OAFA,MAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,mEADA;AAEA,gCAFA;;AAIA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAxBA,EAwBA,GAxBA;;AA0BA;AACA;AACA;AACA;AACA,WAFA,MAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,wCADA;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,OAtBA,EAsBA,+CAtBA;AAuBA,KAtKA;;;AAyKA;AACA;AACA;AACA,oBA5KA,8BA4KA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAzLA;;AA2LA;AACA;AACA,gBA7LA,wBA6LA,CA7LA,EA6LA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAJA,MAIA;AACA,yCADA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KArNA;;AAuNA;AACA,WAxNA,qBAwNA;AACA,8CADA,CACA;AACA,KA1NA;;AA4NA;AACA,aA7NA,qBA6NA,CA7NA,EA6NA;AACA;AACA;AACA,+BADA,EACA,MADA,EADA;;AAIA,KAlOA;;AAoOA;AACA,eArOA,uBAqOA,CArOA,EAqOA;AACA,kCADA,CACA;AACA,KAvOA,EA/GA,E;;;;;;;;;;;;;AC9CA;AAAA;AAAA;AAAA;AAAuvC,CAAgB,8qCAAG,EAAC,C;;;;;;;;;;;ACA3wC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"components/zhuanpan/zhuanpan.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./zhuanpan.vue?vue&type=template&id=5433afb8&scoped=true&\"\nvar renderjs\nimport script from \"./zhuanpan.vue?vue&type=script&lang=js&\"\nexport * from \"./zhuanpan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./zhuanpan.vue?vue&type=style&index=0&id=5433afb8&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5433afb8\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"components/zhuanpan/zhuanpan.vue\"\nexport default component.exports","export * from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./zhuanpan.vue?vue&type=template&id=5433afb8&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./zhuanpan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./zhuanpan.vue?vue&type=script&lang=js&\"","<template>\r\n\t<!--components/zhuanpan/zhuanpan.wxml-->\r\n\t<view class=\"canvas-container\">\r\n\t   <!-- 外围边框 -->\r\n\t   <!-- <view class='gb-wheel-run' style=''></view> -->\r\n\t\r\n\t   <view :animation=\"animationData\" class=\"gb-wheel-content\" :style='{width:size.w+\"rpx\",height:size.h+\"rpx\"}'>\r\n\t      <!-- 扇形颜色背景 当选项长度等于2或者3时做了特殊处理 -->\r\n\t      <view class=\"canvas-list\">\r\n\t         <view class=\"canvas-item2\" v-for=\"(item,idx) in awardsConfig.awards\" :key=\"idx\" :style=\"{transform: `rotate(${item.item2Deg})`,backgroundColor: awardsConfig.awards.length==2?item.color:'',opacity: awardsConfig.awards.length==2?item.opacity:awardsConfig.awards.length==3?item.opacity:'',width:size.h+'rpx',height:(size.h/2-2)+'rpx',transformOrigin:`${size.h/2}rpx ${size.h/2}rpx`}\">\r\n\t            <view class=\"canvas-item2-after\" :style=\"{transform: `rotate(${item.afterDeg})`,backgroundColor:item.color,opacity:awardsConfig.awards.length==3?'':item.opacity,width:size.h/2+'rpx',height:size.h/2+'rpx',transformOrigin: `${size.h/2}rpx ${size.h/2}rpx`}\"></view>\r\n\t            <view v-if='awardsConfig.awards.length==3' class=\"canvas-item2-after\" :style=\"{backgroundColor:item.color,width:size.h/2+'rpx',height:size.h/2+'rpx',transformOrigin: `${size.h/2}rpx ${size.h/2}rpx`}\"></view>\r\n\t         </view>\r\n\t      </view>\r\n\t\r\n\t      <!-- 分割线 -->\r\n\t      <!-- <view class=\"gb-wheel-line\">\r\n\t               <view class=\"gb-wheel-litem\" wx:for=\"{{awardsConfig.awards}}\" wx:key='key' data-index=\"{{index}}\" style=\"transform: rotate({{index*turnNum+turnNum/2}}turn);\"></view>\r\n\t      </view> -->\r\n\t\r\n\t      <!-- 选项内容 -->\r\n\t      <view class=\"gb-wheel-list\">\r\n\t         <view class=\"gb-wheel-item\" data-index=\"index\" v-for=\"(item,index) in awardsConfig.awards\" :key='index'>\r\n\t            <view class=\"gb-wheel-icontent\" style=\"height:262rpx;overflow:hidden;width:26rpx;padding-top:5rpx;\" :style=\"{fontSize:(item.name.length>9?'20':'26')+'rpx', lineHeight:(item.name.length>9?'20':'26')+'rpx',transform: `rotate(${index*turnNum}turn)`,transformOrigin: `50% ${size.h/2-2}rpx`}\">\r\n\t               <text style='word-break:break-all;'>{{item.name}}</text>\r\n\t            </view>\r\n\t         </view>\r\n\t      </view>\r\n\t   </view>\r\n\t\r\n\t   <!-- 转盘中间的按钮 -->\r\n\t   <image @click=\"_zhuan\" src='https://gamesdata.oss-cn-hangzhou.aliyuncs.com/xiaojueding/canvas_button_go_unclick.png' style=\"position:absolute;left:41%;top:38%;margin-top:-11rpx;z-index:9999;\" :style=\"{width:(size.h/4.4)+'rpx',display: block1}\" mode='widthFix'></image>\r\n\t   <image src='https://gamesdata.oss-cn-hangzhou.aliyuncs.com/xiaojueding/canvas_button_go_click.png' style=\"position:absolute;left:41%;top:38%;margin-top:-11rpx;z-index:9999;\" :style=\"{width:(size.h/4.4)+'rpx',display:block2}\" mode='widthFix'></image>\r\n\t   <image @click=\"reset\" src='https://gamesdata.oss-cn-hangzhou.aliyuncs.com/xiaojueding/canvas_button_reset_unclick.png' style=\"left:41%;top:38%;position: absolute;margin-top:-11rpx;z-index:9999;\" :style=\"{width:(size.h/4.4)+'rpx',display:block3}\" mode='widthFix'></image>\r\n\t   <image src='https://gamesdata.oss-cn-hangzhou.aliyuncs.com/xiaojueding/canvas_button_reset_click.png' style=\"position:absolute;left:41%;top:38%;margin-top:-11rpx;z-index:9999;\" :style=\"{width:(size.h/4.4)+'rpx',display:block4}\" mode='widthFix'></image>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\t//创建并返回内部 audio 上下文 innerAudioContext 对象\r\n\tconst start = uni.createInnerAudioContext();\r\n\tconst mid = uni.createInnerAudioContext();\r\n\tconst stop = uni.createInnerAudioContext();\r\n\t\r\n\tvar app = getApp(), timer = null;\r\n\t\r\n\texport default {\r\n\t\tname: \"zhuanpan\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tanimationData: {}, // 转盘动画\r\n\t\t\t\tzhuanflg: false,   // 转盘是否可以点击切换的标志位\r\n\t\t\t\tfastTime: 7600,    // 转盘快速转动的时间\r\n\t\t\t\tslowTime: 3900,    // 转盘慢速转动的时间\r\n\t\t\t\tblock1: 'block',   // 转盘中心的图片标志位，用来显示隐藏\r\n\t\t\t\tblock2: 'none',\r\n\t\t\t\tblock3: 'none',\r\n\t\t\t\tblock4: 'none',\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops: {\r\n\t\t\tmyProperty: {\r\n\t\t\t\ttype: String,\r\n\t\t\t\tdefault: ''\r\n\t\t\t},\r\n\t\t\tprobability: {\r\n\t\t\t   type: Boolean, // 概率开关，默认随机 false\r\n\t\t\t   default: false\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tmusicflg: {\r\n\t\t\t   type: Boolean, // 转盘声音开关，默认true\r\n\t\t\t   default: true\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tfastJuedin: {\r\n\t\t\t   type: Boolean, // 快速转动转盘的开关，默认false\r\n\t\t\t   value: false\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\trepeat: {\r\n\t\t\t   type: Boolean, // 重复抽取开关，默认false\r\n\t\t\t   default: false\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tsize: {\r\n\t\t\t   type: Object, // 转盘大小，宽高单位rpx\r\n\t\t\t   default: ()=>{\r\n\t\t\t\t   return {\r\n\t\t\t\t\t  w: 659, // 注意宽要比高小1rpx\r\n\t\t\t\t\t  h: 660\r\n\t\t\t\t   }\r\n\t\t\t   }\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tzhuanpanArr: { // 可以切换的转盘选项, 支持多个\r\n\t\t\t   type: Array,\r\n\t\t\t   default: ()=>{\r\n\t\t\t\t   return [\r\n\t\t\t\t\t  {\r\n\t\t\t\t\t\t id: 0,\r\n\t\t\t\t\t\t option: '转盘的标题名称',\r\n\t\t\t\t\t\t awards: [\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t   id: 0,\r\n\t\t\t\t\t\t\t   name: \"最多17个选项\", // 选项名\r\n\t\t\t\t\t\t\t   color: 'red',        // 选项的背景颜色\r\n\t\t\t\t\t\t\t   probability: 0       // 概率\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t   id: 1,\r\n\t\t\t\t\t\t\t   name: \"选项最多填13字\", // 超过9个字时字体会变小点\r\n\t\t\t\t\t\t\t   color: 'green',\r\n\t\t\t\t\t\t\t   probability: 0\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t ],\r\n\t\t\t\t\t  }\r\n\t\t\t\t\t]\r\n\t\t\t   }\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 限制：最多17个选项， 单个选项最多填10-13个字, 选项名称最多21个字\r\n\t\t\tawardsConfig: { // 默认的当前转盘选项 \r\n\t\t\t   type: Object,\r\n\t\t\t   default: function(){\r\n\t\t\t\t   return {\r\n\t\t\t\t\t  option: '我的小决定？',\r\n\t\t\t\t\t  awards: [\r\n\t\t\t\t\t\t {\r\n\t\t\t\t\t\t\tid: 0,\r\n\t\t\t\t\t\t\tname: \"最多17个选项\",\r\n\t\t\t\t\t\t\tcolor: 'red',\r\n\t\t\t\t\t\t\tprobability: 0\r\n\t\t\t\t\t\t },\r\n\t\t\t\t\t\t {\r\n\t\t\t\t\t\t\tid: 1,\r\n\t\t\t\t\t\t\tname: \"选项最多填13字\",\r\n\t\t\t\t\t\t\tcolor: 'green',\r\n\t\t\t\t\t\t\tprobability: 0\r\n\t\t\t\t\t\t }\r\n\t\t\t\t\t  ],\r\n\t\t\t\t   }\r\n\t\t\t   }\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tstart.src = 'https://gamesdata.oss-cn-hangzhou.aliyuncs.com/xiaojueding/start.mp3'; // 转盘开始转动的音乐\r\n\t\t\tmid.src = 'https://gamesdata.oss-cn-hangzhou.aliyuncs.com/xiaojueding/mid.mp3';     // 快速决定时，转盘开始转动的音乐\r\n\t\t\tstop.src = 'https://gamesdata.oss-cn-hangzhou.aliyuncs.com/xiaojueding/stop.mp3';   // 转盘停止转动的音乐\r\n\t\t\t\r\n\t\t\t// this.awardsConfig = this.zhuanpanArr[0]\r\n\t\t\t// console.log(this.awardsConfig)\r\n\t\t\t// this.initAdards();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t/*\r\n\t\t\t * 公有方法\r\n\t\t\t */\r\n\t\t\t//判断值是否为空\r\n\t\t\tisNull(str) {\r\n\t\t\t   if (str == null || str == undefined || str == '') {\r\n\t\t\t      return true;\r\n\t\t\t   } else {\r\n\t\t\t      return false;\r\n\t\t\t   }\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//初始化数据\r\n\t\t\tinitAdards(data) {\r\n\t\t\t   var that = this, awardsConfig = data || that.awardsConfig;\r\n\t\t\t   console.log(awardsConfig.awards)\r\n\t\t\t   var t = awardsConfig.awards.length;  // 选项长度\r\n\t\t\t   var e = 1 / t, i = 360 / t, r = i - 90;\r\n\t\t\t\tconsole.log(e,i,r)\r\n\t\t\t   for (var g = 0; g < t; g++) {\r\n\t\t\t      awardsConfig.awards[g].item2Deg = g * i + 90 - i / 2 + \"deg\";//当前下标 * 360/长度 + 90 - 360/长度/2\r\n\t\t\t      awardsConfig.awards[g].afterDeg = r + \"deg\";\r\n\t\t\t   }\r\n\t\t\t\r\n\t\t\t\tthat.turnNum = e // 页面的单位是turn\r\n\t\t\t\tthat.awardsConfig = awardsConfig\r\n\t\t\t\t\r\n\t\t\t\t// console.log(awardsConfig.awards)\r\n\t\t\t\r\n\t\t\t   that._change();//向父组件传出当前转盘的初始数据\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//重置转盘\r\n\t\t\treset() {\r\n\t\t\t   var that = this, awardsConfig = that.awardsConfig;\r\n\t\t\t   console.log(awardsConfig);\r\n\t\t\t   var animation = uni.createAnimation({\r\n\t\t\t      duration: 1,\r\n\t\t\t      timingFunction: \"linear\"\r\n\t\t\t   });\r\n\t\t\t   that.animation = animation;\r\n\t\t\t   animation.rotate(0).step(), app.runDegs = 0;\r\n\t\t\t\t\r\n\t\t\t\tthat.animationData = animation.export()\r\n\t\t\t\tthat.block4 = 'block'\r\n\t\t\t\r\n\t\t\t   for (let x in awardsConfig.awards) {\r\n\t\t\t      awardsConfig.awards[x].opacity = '1';\r\n\t\t\t   }\r\n\t\t\t\r\n\t\t\t   setTimeout(function () {\r\n\t\t\t\t   that.block1 = 'block'\r\n\t\t\t\t   that.block2 = 'none'\r\n\t\t\t\t   that.block3 = 'none'\r\n\t\t\t\t   that.block4 = 'none'\r\n\t\t\t\t   that.awardsConfig = awardsConfig\r\n\t\t\t\r\n\t\t\t      that._myAwards(true);\r\n\t\t\t   }, 300)\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//父组件需要切换当前转盘的选项\r\n\t\t\t//如果有需要切换不同转盘的选项时，可以调用这方法\r\n\t\t\t//obj: 转盘的数据\r\n\t\t\t//flag: 当转盘在转动过程中的标志位，默认可不传\r\n\t\t\tswitchZhuanpan(data, flag) {\r\n\t\t\t\t// this.awardsConfig = data\r\n\t\t\t\tthis.$emit('myData', data)\r\n\t\t\t\tthis.block1 = 'block'\r\n\t\t\t\tthis.block3 = 'none'\r\n\t\t\t\tthis.zhuanflg = false\r\n\t\t\t   this.initAdards();\r\n\t\t\t\r\n\t\t\t   if (flag) {\r\n\t\t\t      this.reset();\r\n\t\t\t      clearTimeout(timer);\r\n\t\t\t      start.stop();\r\n\t\t\t      mid.stop();\r\n\t\t\t      stop.stop();\r\n\t\t\t      uni.removeStorageSync('repeatArr');\r\n\t\t\t   }\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t/*\r\n\t\t\t* 内部私有方法建议以下划线开头\r\n\t\t\t* triggerEvent 用于触发事件,过triggerEvent来给父组件传递信息的\r\n\t\t\t* 写法： this.triggerEvent('cancelEvent', { num: 1 })  // 可以将num通过参数的形式传递给父组件\r\n\t\t\t*/\r\n\t\t\t\r\n\t\t\t// GO转盘开始转动\r\n\t\t\t_zhuan() {\r\n\t\t\t   var that = this;\r\n\t\t\t   var awardsConfig = that.awardsConfig;\r\n\t\t\t\r\n\t\t\t   //>>> 是无符号移位运算符\r\n\t\t\t   var r = Math.random() * awardsConfig.awards.length >>> 0, runNum = 8;\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t   /*=============不重复抽取=============*/\r\n\t\t\t   if (that.repeat) {\r\n\t\t\t      r = that._queryRepeat(r);\r\n\t\t\t   } else {\r\n\t\t\t      uni.removeStorageSync('repeatArr');\r\n\t\t\t\r\n\t\t\t      console.log('是否开启了概率？？？', that.probability);\r\n\t\t\t      //开启概率 probability这属性必须要传个ture\r\n\t\t\t      if (that.probability) {\r\n\t\t\t         r = that._openProbability();\r\n\t\t\t      }\r\n\t\t\t   }\r\n\t\t\t   /*=============不重复抽取=============*/\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t   console.log('当前答案选项的下标==', r);\r\n\t\t\t   setTimeout(function () {\r\n\t\t\t\r\n\t\t\t      //转盘开始转动音乐\r\n\t\t\t      that.musicflg ? that.fastJuedin ? mid.play() : start.play() : '';\r\n\t\t\t\r\n\t\t\t      //要转多少度deg\r\n\t\t\t      app.runDegs = app.runDegs || 0, app.runDegs = app.runDegs + (360 - app.runDegs % 360) + (2160 - r * (360 / awardsConfig.awards.length));\r\n\t\t\t\r\n\t\t\t      var animation = uni.createAnimation({\r\n\t\t\t         duration: that.fastJuedin ? that.slowTime : that.fastTime,\r\n\t\t\t         timingFunction: \"ease\"\r\n\t\t\t      });\r\n\t\t\t      that.animation = animation;\r\n\t\t\t\r\n\t\t\t      //这动画执行的是差值 \r\n\t\t\t      //如果第一次写rotate（360） 那么第二次再写rotate（360）将不起效果\r\n\t\t\t      animation.rotate(app.runDegs).step(), 0 == r && (app.runDegs = 0);\r\n\t\t\t\r\n\t\t\t\t\tthat.animationData = animation.export()\r\n\t\t\t\t\tthat.block1 = 'none'\r\n\t\t\t\t\tthat.block2 = 'block'\r\n\t\t\t\t\tthat.block3 = 'none'\r\n\t\t\t\t\tthat.zhuanflg = true\r\n\t\t\t      that._setatZhuan(true);\r\n\t\t\t   }, 100);\r\n\t\t\t\r\n\t\t\t   timer = setTimeout(function () {\r\n\t\t\t      for (let x in awardsConfig.awards) {\r\n\t\t\t         if (x != r) {\r\n\t\t\t            awardsConfig.awards[x].opacity = '0.3';\r\n\t\t\t         } else {\r\n\t\t\t            awardsConfig.awards[x].opacity = '1';\r\n\t\t\t         }\r\n\t\t\t      }\r\n\t\t\t\r\n\t\t\t      //转盘停止后的音乐\r\n\t\t\t      !that.musicflg ? '' : stop.play();\r\n\t\t\t\r\n\t\t\t\t\tthat.animationData = {}\r\n\t\t\t\t\tthat.s_awards = awardsConfig.awards[r].name,//最终选中的结果\r\n\t\t\t\t\tthat.awardsConfig = awardsConfig\r\n\t\t\t\t\tthat.block1 = 'none'\r\n\t\t\t\t\tthat.block2 = 'none'\r\n\t\t\t\t\tthat.block3 = 'block'\r\n\t\t\t\t\tthat.zhuanflg = false\r\n\t\t\t\r\n\t\t\t      that._myAwards(false);\r\n\t\t\t      that._setatZhuan(false);\r\n\t\t\t   }, that.fastJuedin ? that.slowTime : that.fastTime);\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t// 开启概率 \r\n\t\t\t// 传 1-100 的数 来设置选项的权重  \r\n\t\t\t// 传入0的话就永远摇不到这个选项\r\n\t\t\t_openProbability() {\r\n\t\t\t   var that = this, awards = that.awardsConfig.awards, arr = [];\r\n\t\t\t   //5, 5, 20, 10 ,30 ,30, 0\r\n\t\t\t   for (let i in awards) {\r\n\t\t\t      if (awards[i].probability != 0) {\r\n\t\t\t         for (var x = 0; x < awards[i].probability; x++) {\r\n\t\t\t            //把当前的概率数字 以当前选项下标的形式 都添加都空数组中，然后随机这个数组\r\n\t\t\t            arr.push(i);\r\n\t\t\t         }\r\n\t\t\t      }\r\n\t\t\t   }\r\n\t\t\t   var s = Math.floor(Math.random() * arr.length);\r\n\t\t\t   return arr[s];\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//不重复抽取\r\n\t\t\t//r:随机数 当前选项进行随机\r\n\t\t\t_queryRepeat(r) {\r\n\t\t\t   var that = this, flag = true, repeatArr = uni.getStorageSync('repeatArr'), repeatArr2 = [], awardsConfig = that.awardsConfig;\r\n\t\t\t   if (that.isNull(repeatArr)) {\r\n\t\t\t      repeatArr2.push(r), uni.setStorageSync('repeatArr', repeatArr2);\r\n\t\t\t      return r;\r\n\t\t\t   } else {\r\n\t\t\t      var len = awardsConfig.awards.length, r = Math.random() * len >>> 0;\r\n\t\t\t      for (let i in repeatArr) {\r\n\t\t\t         if (r == repeatArr[i]) {\r\n\t\t\t            flag = false;\r\n\t\t\t            if (repeatArr.length == len) {\r\n\t\t\t               uni.removeStorageSync('repeatArr');\r\n\t\t\t               repeatArr2.push(r), uni.setStorageSync('repeatArr', repeatArr2);\r\n\t\t\t               return r;\r\n\t\t\t            } else {\r\n\t\t\t               return that._queryRepeat();//递归调用\r\n\t\t\t            }\r\n\t\t\t         }\r\n\t\t\t      }\r\n\t\t\t      if (flag) {\r\n\t\t\t         repeatArr.push(r), uni.setStorageSync('repeatArr', repeatArr);\r\n\t\t\t         return r;\r\n\t\t\t      }\r\n\t\t\t   }\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//初始化数据时向外传的参\r\n\t\t\t_change() {\r\n\t\t\t   this.$emit('myData', this.awardsConfig);// 向父组件传出当前决定的数组数据\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//当前转盘的结果   e:转盘什么时候能点击的标志位\r\n\t\t\t_myAwards(e) {\r\n\t\t\t   this.$emit('myAwards',\r\n\t\t\t      {\r\n\t\t\t         s_awards: this.s_awards, end: e\r\n\t\t\t      });\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t//转盘开始转动或者结速转动后的要传的值\r\n\t\t\t_setatZhuan(e) {\r\n\t\t\t   this.$emit('startZhuan', e); // 向父组件传出当前决定的数组数据\r\n\t\t\t},\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.canvas-container {\r\n\t   margin: 0 auto;\r\n\t   position: relative;\r\n\t   display: flex;\r\n\t   align-items: center;\r\n\t   justify-content: center;\r\n\t}\r\n\t\r\n\t.gb-wheel-run {\r\n\t   box-shadow: 0 0 5rpx 0rpx rgba(0, 0, 0, 0.98);\r\n\t   width: 700rpx;\r\n\t   height: 700rpx;\r\n\t   border-radius: 50%;\r\n\t   border: 30rpx solid #f1ecec;\r\n\t   box-sizing: border-box;\r\n\t   position: absolute;\r\n\t   left: 27rpx;\r\n\t   top: -19rpx;\r\n\t   opacity: 0.7;\r\n\t}\r\n\t\r\n\t.gb-wheel-content {\r\n\t   position: relative;\r\n\t   margin: 0 auto;\r\n\t   z-index: 2;\r\n\t   width: 659rpx;\r\n\t   height: 660rpx;\r\n\t   border-radius: 50%;\r\n\t   border: 20rpx solid #f1ecec;\r\n\t   box-shadow: 0 0 5rpx 0rpx rgba(0, 0, 0, 0.98);\r\n\t   opacity: 0.7;\r\n\t   overflow: hidden;\r\n\t}\r\n\t\r\n\t.canvas-list {\r\n\t   position: absolute;\r\n\t   left: 0;\r\n\t   top: 0;\r\n\t   width: inherit;\r\n\t   height: inherit;\r\n\t   z-index: 8;\r\n\t}\r\n\t\r\n\t.canvas-item2 {\r\n\t   position: absolute;\r\n\t   left: 0px;\r\n\t   top: 0;\r\n\t   width: 660rpx;\r\n\t   height: 328rpx;\r\n\t   color: #e4370e;\r\n\t   font-weight: bold;\r\n\t   transform-origin: 330rpx 330rpx;\r\n\t   overflow: hidden;\r\n\t}\r\n\t\r\n\t.canvas-item2-after {\r\n\t   position: absolute;\r\n\t   top: 0;\r\n\t   left: 0;\r\n\t   width: 330rpx;\r\n\t   height: 330rpx;\r\n\t   transform-origin: 330rpx 330rpx;\r\n\t   opacity: 1;\r\n\t}\r\n\t\r\n\t.gb-wheel-list {\r\n\t   position: absolute;\r\n\t   left: 0;\r\n\t   top: 0;\r\n\t   width: 100%;\r\n\t   height: 100%;\r\n\t   z-index: 9;\r\n\t}\r\n\t\r\n\t.gb-wheel-item {\r\n\t   position: absolute;\r\n\t   left: 0;\r\n\t   top: 0;\r\n\t   width: 100%;\r\n\t   height: 100%;\r\n\t   color: #fff;\r\n\t   text-shadow: 0 1px 1px rgba(255, 255, 255, 0.6);\r\n\t}\r\n\t\r\n\t.gb-wheel-icontent {\r\n\t   position: relative;\r\n\t   display: block;\r\n\t   padding-top: 50rpx;\r\n\t   margin: 0 auto;\r\n\t   text-align: center;\r\n\t   transform-origin: 50% 328rpx;\r\n\t}\r\n</style>\r\n","import mod from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./zhuanpan.vue?vue&type=style&index=0&id=5433afb8&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./zhuanpan.vue?vue&type=style&index=0&id=5433afb8&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1606459320689\n      var cssReload = require(\"E:/hbuilderx/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}